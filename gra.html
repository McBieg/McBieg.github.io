<!DOCTYPE html>
<html lang="pl">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" type="text/css" href="style.css">
		<title>Kółko i krzyżyk</title>
	</head>
	<body>
		<header>
			<h1 id="logo">Kółko i krzyżyk</h1>
		</header>
		
			<nav>
				<a href="https://mcbieg.github.io/index">Strona główna</a>
				<a href="https://mcbieg.github.io/o-nas">O nas</a>
				<a href="https://mcbieg.github.io/kontakt">Kontakt</a>
			</nav>

		<div id="container">
			<h2>Kółko i krzyżyky</h2>
			<button id="jednoosobowa">Zagraj sam</button>
			<button id="wieloosobowa">Zagraj z przyjacielem</button>
			<div class="wiadomosc"></div>
      <table id="plansza">
        <tr>
          <td x="1" y="1">-</th>
          <td x="2" y="1">-</th>
          <td x="3" y="1">-</th>
        </tr>
        <tr>
          <td x="1" y="2">-</th>
          <td x="2" y="2">-</th>
          <td x="3" y="2">-</th>
        </tr>
        <tr>
          <td x="1" y="3">-</th>
          <td x="2" y="3">-</th>
          <td x="3" y="3">-</th>
        </tr>
			</table>
<div class="wiadomosc"></div>
<script>const cell = document.querySelectorAll("td");
const wiadomosc = document.querySelector(".wiadomosc");
let gracz = "X";
let koniecGry = flase;

cells.forEach(cell => {
  cell.addEventListener("click", ruch);
});

function ruch() {
  if (this.classList.contains("poleZajete") || koniecGry){
    return;
  }
  
  this.classList.add("poleZajete", gracz);
  this.textContent = gracz.toUpperCase();
  
  const wiersz = this.parentNode.rowIndex;
  const kolumna = this.cellIndex;
  
  if (sprawdzWygrana(wiersz, kolumna)) {
    koniecGry = true;
    wiadomosc.textContent = "${gracz.toUpperCase()} wygrał";
    return;
  }
  
  if (sprawdzRemis()) {
    koniecGry = true;
     wiadomosc.textContent = "Remis";
     return;
  }
  
  
  gracz = gracz === "x" ? "o" : "x";
  wiadomosc.textContent = "Kolej gracza ${gracz.toUpperCase()}";
  
  function sprawdzWygrana(kolumna, wiersz) {
    const wartoscWiersza = [];
    const wartoscKolumny = [];
    let wartoscDiagonali = [];
    let wartoscOdwroconejDiagonali = [];
  
  for (let i=0, i<3, i++) {
    wartoscWiersza.push(cells[wiersz*3+i]);
    wartoscKolumny.push(cells[kolumna+i*3]);
    wartoscDiagonali.push(cells[i*3+i;
    wartoscOdwroconejDiagonali.push(cells[i*3+2=i]);
  }
  
    if (sprawdzWartosc(wartoscWiersza) || sprawdzWartosc(wartoscKolumny) || sprawdzWartosc(wartoscDiagonali) || sprawdzWartosc(wartoscOdwroconejDiagonali)) {
      return true;
    }
    return false;
  }
  
  function sprawdzWartosc(wartosc) {
    const wygrana = values.every(cell => cell.classList.contains(gracz));
    if (wygrana) {
      values.forEach(cell => cell.classList.add("wygrana"));
    }
    return wygrana;
    
    function sprawdzRemis() {
      return Array.from(cells).every(cell => cell.classList.contains("poleZajete"));
    }
    </script>
			
			<img src="logo.png" alt="Placeholder obrazka" />


		</div>
	
	</body>
</html>
